# HR Law Bot Project

This project contains:
- src/bot.py — Telegram bot (Aiogram) using OpenAI
- src/law_base.json — law database (generated by tools/parse_law.py)
- src/embeddings/tk_vectors.pkl — embeddings generated by tools/build_embeddings.py
- tools/parse_law.py — parser for RU.doc and UZ.doc (produces law_base.json)
- tools/build_embeddings.py — builds embeddings using OpenAI

## Quick start

1. Put RU.doc and UZ.doc in tools/ or provide paths to them
2. Create virtualenv and install dependencies:
   ```
   python -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

3. Parse docs:
   ```
   python tools/parse_law.py --ru ./tools/RU.doc --uz ./tools/UZ.doc --out src/law_base.json --expected 581
   ```

4. Set OPENAI_API_KEY environment variable and build embeddings:
   ```
   export OPENAI_API_KEY="sk-..."
   python tools/build_embeddings.py
   ```

5. Configure TELEGRAM_TOKEN and OPENAI_API_KEY in environment (.env) and run bot:
   ```
   export TELEGRAM_TOKEN="<your token>"
   export OPENAI_API_KEY="sk-..."
   python src/bot.py
   ```

For deployment to Railway or other hosting, see README for examples.
